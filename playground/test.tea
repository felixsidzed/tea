using "io";
using "thread";

@threadlocal
public var brootal: int = 67;

private func fn() -> void
	io::printf("brootal in other thread before = %d\n", brootal);
	brootal = 41;
	io::printf("brootal in other thread after = %d\n", brootal);
end

public func main() -> int
	io::printf("brootal before = %d\n", brootal);
	thread::join(thread::spawn(fn));
	io::printf("brootal after = %d\n", brootal);

	return 0;
end
